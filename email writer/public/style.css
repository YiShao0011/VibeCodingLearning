* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  background: radial-gradient(circle at 30% 20%, #1c2546 0%, #0d111d 60%, #090d17 100%);
  color: #e5e9f5;
  -webkit-font-smoothing: antialiased;
}

:root {
  --accent: #596bff;
  --accent-hover: #4258ff;
  --bg-panel: rgba(22,28,45,0.72);
  --border: #2d3956;
  --radius: 14px;
  --shadow: 0 4px 12px -2px rgba(0,0,0,0.4), 0 2px 6px -1px rgba(0,0,0,0.3);
}
body.light {
  background: linear-gradient(135deg,#f5f7fa 0%,#e3e9f3 100%);
  color: #1f242f;
  --bg-panel: rgba(255,255,255,0.85);
  --border: #d2d9e4;
  --shadow: 0 3px 10px -2px rgba(0,0,0,0.15), 0 1px 4px -1px rgba(0,0,0,0.1);
}

.app-shell { min-height: 100vh; display: flex; flex-direction: column; }
.topbar {
  display: flex; justify-content: space-between; align-items: center;
  padding: 20px 28px; backdrop-filter: blur(28px); background: linear-gradient(120deg, rgba(25,32,52,0.7), rgba(15,19,32,0.6));
  border-bottom: 1px solid var(--border);
}
.brand { display: flex; align-items: center; gap: 14px; }
.logo { width: 44px; height: 44px; border-radius: 12px; background: linear-gradient(135deg,#4f5dff,#7f8bff); display:flex; align-items:center; justify-content:center; font-size: 22px; font-weight:700; color:#fff; box-shadow: var(--shadow); }
.titles h1 { margin:0; font-size: 20px; font-weight:600; }
.titles .tagline { margin:4px 0 0; font-size:12px; opacity:0.7; }

.layout { flex:1; display:grid; gap:28px; padding: 28px; grid-template-columns: repeat(auto-fit,minmax(340px,1fr)); align-items:start; }
.panel { background: var(--bg-panel); border:1px solid var(--border); border-radius: var(--radius); padding:24px; position:relative; box-shadow: var(--shadow); display:flex; flex-direction:column; }
.panel-header { display:flex; justify-content:space-between; align-items:center; margin:-4px 0 16px; }
.panel-tools { display:flex; gap:8px; }
h2 { margin:0 0 12px; font-size:16px; font-weight:600; letter-spacing:0.3px; }
.field { margin-bottom:18px; }
label { display:block; margin:0 0 8px; font-weight:600; font-size:13px; letter-spacing:0.2px; }
textarea { width:100%; padding:14px 16px; border-radius:10px; border:1px solid var(--border); background:#121828; color:#e5e9f5; resize:vertical; font-size:13px; line-height:1.4; font-family:inherit; }
body.light textarea { background:#ffffff; color:#1f242f; }
textarea:focus { outline:2px solid var(--accent); box-shadow:0 0 0 3px rgba(89,107,255,0.25); }
.hint { font-size:12px; opacity:0.6; margin-top:auto; }
.input-with-tools { position: relative; display:flex; gap:10px; align-items:flex-start; }
.input-with-tools textarea { flex:1; }
.voice-tools { display:flex; flex-direction:column; gap:8px; align-items:flex-end; }
.record-status { font-size:11px; opacity:0.7; min-height: 14px; }

button { font-family:inherit; font-size:13px; font-weight:600; letter-spacing:0.3px; border-radius:10px; border:1px solid var(--accent); padding:10px 18px; cursor:pointer; transition:background .18s, transform .18s, box-shadow .18s; }
button.primary { background: var(--accent); color:#fff; box-shadow:0 2px 6px -1px rgba(0,0,0,0.4); }
button.primary:hover:not(:disabled) { background: var(--accent-hover); transform:translateY(-1px); }
button.ghost { background: transparent; border:1px solid var(--border); color:inherit; }
button.ghost:hover:not(:disabled) { background: rgba(255,255,255,0.06); }
button.small { padding:6px 12px; font-size:11px; }
button:disabled { opacity:0.5; cursor:not-allowed; }

.result { flex:1; min-height:220px; white-space:pre-wrap; border:1px solid var(--border); background:#101524; padding:18px 20px; border-radius:10px; font-size:14px; line-height:1.5; overflow:auto; }
body.light .result { background:#ffffff; }

.footer { padding:16px 26px; font-size:12px; display:flex; gap:10px; align-items:center; justify-content:center; backdrop-filter: blur(20px); background:linear-gradient(120deg, rgba(25,32,52,0.55), rgba(15,19,32,0.55)); border-top:1px solid var(--border); }
.sep { opacity:0.4; }

/* Loader overlay */
.loader { position:fixed; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; background:rgba(9,13,23,0.72); backdrop-filter: blur(8px); z-index:100; gap:18px; }
.loader.hidden { display:none; }
.spinner { width:42px; height:42px; border:5px solid rgba(255,255,255,0.12); border-top-color: var(--accent); border-radius:50%; animation:spin 0.85s linear infinite; }
.loader-text { font-size:14px; font-weight:500; letter-spacing:0.3px; }
@keyframes spin { to { transform:rotate(360deg); } }

/* Scrollbar styling */
textarea::-webkit-scrollbar, .result::-webkit-scrollbar { width:10px; }
textarea::-webkit-scrollbar-track, .result::-webkit-scrollbar-track { background: #0f1523; }
textarea::-webkit-scrollbar-thumb, .result::-webkit-scrollbar-thumb { background:#273247; border-radius:20px; }
textarea::-webkit-scrollbar-thumb:hover, .result::-webkit-scrollbar-thumb:hover { background:#344257; }

@media (max-width: 760px) {
  .topbar { flex-direction:column; align-items:flex-start; gap:14px; }
  .actions { width:100%; }
  .actions button { width:100%; }
}
